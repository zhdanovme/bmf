# yaml-language-server: $schema=../schema.json
# Epics Template - Группы функциональности
#
# ID формат: epic:domain или epic:domain:subdomain


# =============================================================================
# ЧТО ТАКОЕ ЭПИК
# =============================================================================
#
# Эпик — это высокоуровневая группа связанной функциональности.
# Описывает "что" система делает и "зачем" это нужно пользователю.
#
# Эпик отвечает на вопросы:
#   - Какую проблему пользователя мы решаем?
#   - Какую ценность даёт эта функциональность?
#   - Как это вписывается в общую картину продукта?
#
# Эпики НЕ содержат:
#   - Технических деталей реализации
#   - Пошаговых инструкций (это tc:*)
#   - Прямых ссылок на конкретные сущности (screen:*, action:*)
#   - UI/UX деталей
#
# Эпики СОДЕРЖАТ:
#   - Бизнес-цель — что мы достигаем
#   - Ценность для пользователя — зачем ему это
#   - Контекст функциональности — в каких условиях работает
#   - Ограничения/границы — что входит, а что нет


# =============================================================================
# ЗАЧЕМ НУЖНЫ ЭПИКИ
# =============================================================================
#
# 1. НАВИГАЦИЯ
#    Быстро понять структуру продукта без погружения в детали.
#    "Что вообще есть в приложении?"
#
# 2. ПЛАНИРОВАНИЕ
#    Оценка объёма работ на уровне фич, а не задач.
#    "Сколько всего в MVP? Что в следующем релизе?"
#
# 3. КОММУНИКАЦИЯ
#    Общий язык между бизнесом, дизайном и разработкой.
#    "Давай обсудим эпик авторизации"
#
# 4. ТРЕКИНГ
#    Связь tc:* сценариев с бизнес-целями.
#    "Какие сценарии покрывают эпик оплаты?"
#
# 5. ПРИОРИТИЗАЦИЯ
#    Сравнение важности на уровне фич.
#    "Что важнее: профиль или уведомления?"


# =============================================================================
# ИЕРАРХИЯ
# =============================================================================
#
# Корневой эпик (домен):
#   epic:auth                  — Авторизация (весь домен)
#   epic:training              — Тренировки (весь домен)
#   epic:shop                  — Магазин (весь домен)
#
# Подэпики (поддомен):
#   epic:auth:login            — Логин
#   epic:auth:register         — Регистрация
#   epic:auth:recovery         — Восстановление пароля
#
# Глубина вложенности: максимум 2 уровня (domain:subdomain)
#
# КОГДА СОЗДАВАТЬ ПОДЭПИК:
#   - Функциональность можно релизить отдельно
#   - Есть 3+ сценариев (tc:*) в этой области
#   - Разные команды могут работать параллельно
#
# КОГДА НЕ СОЗДАВАТЬ ПОДЭПИК:
#   - Всего 1-2 сценария — держать в корневом эпике
#   - Функциональность неделима — не дробить искусственно


# =============================================================================
# ФОРМАТ ОПИСАНИЯ
# =============================================================================
#
# Минимальный формат (2 строки):
#   description: |
#     Что это (1 предложение).
#     Зачем пользователю (1 предложение).
#
# Расширенный формат (для сложных эпиков):
#   description: |
#     Что это — краткое определение функциональности.
#     Зачем это пользователю — какую проблему решает.
#
#     Контекст: когда/как это используется.
#     Ограничения: что НЕ входит в этот эпик.


# =============================================================================
# ПРИМЕРЫ
# =============================================================================

# --- Корневой эпик (минимальный формат) ---

epic:auth:
  description: |
    Авторизация и управление сессией.
    Пользователь может войти, зарегистрироваться и восстановить доступ.

# --- Подэпики (минимальный формат) ---

epic:auth:login:
  description: |
    Вход в существующий аккаунт.
    Пользователь вводит credentials и получает доступ к приложению.

epic:auth:register:
  description: |
    Регистрация нового аккаунта.
    Новый пользователь создаёт аккаунт и проходит верификацию email.

epic:auth:recovery:
  description: |
    Восстановление доступа к аккаунту.
    Пользователь может сбросить забытый пароль через email.


# --- Корневой эпик (расширенный формат) ---

epic:training:
  description: |
    Тренировочные сессии — основной геймплей приложения.
    Пользователь выполняет упражнения перед камерой, получает награды и прогрессирует.

    Контекст: CV-модель распознаёт движения в реальном времени.
    За действия начисляются XP и coins, тратится энергия.

    Ограничения: не включает социальные функции (лидерборды, friends).


# --- Подэпики (расширенный формат) ---

epic:training:session:
  description: |
    Жизненный цикл тренировочной сессии.
    Пользователь проходит через все этапы от выбора до результатов.

    Этапы: выбор упражнения → калибровка → активная фаза → результаты.

    Ограничения: не включает edge-cases (прерывания, ошибки камеры).

epic:training:energy:
  description: |
    Система энергии как ограничитель геймплея.
    Энергия не даёт играть бесконечно, создаёт ритм возвращения в приложение.

    Механика: тратится при тренировке, восстанавливается со временем.
    Особенность: ночной режим позволяет тренироваться без траты энергии.

epic:training:interruptions:
  description: |
    Обработка прерываний тренировки.
    Пользователь не теряет прогресс при случайных сбоях.

    Типы прерываний: потеря камеры, таймаут неактивности, ручная пауза.
    Каждый тип имеет свой диалог и логику возобновления.


# --- Примеры для разных доменов ---

epic:shop:
  description: |
    Внутриигровой магазин.
    Пользователь тратит заработанную валюту на косметику и бустеры.

    Контекст: soft currency (coins) зарабатывается, hard currency (gems) покупается.
    Ограничения: не включает real-money покупки (это epic:iap).

epic:shop:cosmetics:
  description: |
    Косметические предметы без влияния на геймплей.
    Пользователь выражает индивидуальность через кастомизацию.

    Типы: скины, эффекты, аватары, рамки.

epic:shop:consumables:
  description: |
    Расходуемые предметы с влиянием на геймплей.
    Пользователь получает временное преимущество.

    Типы: бутылки энергии, XP-бустеры, skip-токены.

epic:social:
  description: |
    Социальные функции и взаимодействие между игроками.
    Пользователь видит свой прогресс в контексте других.

    Контекст: асинхронный мультиплеер (нет real-time PvP).
    Включает: лидерборды, профили друзей, шеринг достижений.

epic:onboarding:
  description: |
    Первый опыт нового пользователя.
    Пользователь понимает механики и мотивирован продолжать.

    Этапы: туториал → первая тренировка → первая награда.
    Цель: довести до "aha-момента" за первую сессию.


# =============================================================================
# СВЯЗЬ С TC:* СЦЕНАРИЯМИ
# =============================================================================
#
# Эпики и tc:* образуют иерархию:
#
#   epic:auth                    — домен (высокий уровень)
#     epic:auth:login            — поддомен
#       tc:auth:login-success    — конкретный сценарий
#       tc:auth:login-invalid    — edge-case сценарий
#     epic:auth:register
#       tc:auth:register-email
#       tc:auth:register-social
#
# ПРАВИЛО СООТВЕТСТВИЯ:
#   Домен tc:* должен совпадать с доменом epic:*
#
#   tc:auth:login-success → принадлежит epic:auth:login
#   tc:training:start-session → принадлежит epic:training:session
#
# ВАЛИДАЦИЯ:
#   - Каждый tc:* должен иметь соответствующий epic:*
#   - Эпик без tc:* — пустой (удалить или добавить сценарии)


# =============================================================================
# ИМЕНОВАНИЕ
# =============================================================================
#
# Формат: epic:domain или epic:domain:subdomain
#
# ПРАВИЛА:
#   - kebab-case для составных имён: epic:user-profile, НЕ epic:userProfile
#   - Короткие понятные имена: epic:auth, НЕ epic:authentication-and-authorization
#   - Существительные, не глаголы: epic:payment, НЕ epic:process-payment
#   - Максимум 2 уровня: epic:shop:cosmetics — ок, epic:shop:cosmetics:hats — нет
#
# ХОРОШИЕ ПРИМЕРЫ:
#   epic:auth
#   epic:auth:login
#   epic:user-profile
#   epic:in-app-purchase
#
# ПЛОХИЕ ПРИМЕРЫ:
#   epic:authentication_system    — underscore вместо kebab-case
#   epic:UserProfile              — camelCase
#   epic:login                    — слишком узко для корневого эпика
#   epic:misc                     — слишком размыто


# =============================================================================
# АНТИ-ПАТТЕРНЫ
# =============================================================================
#
# 1. ЭПИК-ПОМОЙКА
#    epic:misc, epic:other, epic:utils
#    Решение: декомпозировать по реальным доменам
#
# 2. СЛИШКОМ ДЕТАЛЬНЫЙ ЭПИК
#    epic:auth:login:email:validation:error
#    Решение: это tc:*, не epic
#
# 3. ТЕХНИЧЕСКИЙ ЭПИК
#    epic:api, epic:database, epic:caching
#    Решение: эпики про бизнес-ценность, не про реализацию
#
# 4. ДУБЛИРОВАНИЕ
#    epic:registration и epic:auth:register
#    Решение: выбрать одну иерархию
#
# 5. ПУСТОЙ ЭПИК
#    epic:notifications (без единого tc:*)
#    Решение: добавить сценарии или удалить
#
# 6. ЭПИК-ОДИНОЧКА
#    epic:settings:language (единственный подэпик settings)
#    Решение: держать в epic:settings без подэпика


# =============================================================================
# ПРАВИЛА
# =============================================================================
#
# 1. ОДИН ЭПИК = ОДНА БИЗНЕС-ЦЕЛЬ
#    Если эпик решает несколько разных проблем — разбить на несколько.
#
# 2. ОПИСАНИЕ ОТВЕЧАЕТ НА "ЗАЧЕМ"
#    Не "что делает система", а "какую ценность получает пользователь".
#
# 3. ПОДЭПИКИ ГРУППИРУЮТ TC:*
#    Каждый подэпик должен иметь 2+ связанных сценариев.
#
# 4. СОБЛЮДАТЬ ИМЕНОВАНИЕ
#    kebab-case, существительные, максимум 2 уровня.
#
# 5. ЭПИК СУЩЕСТВУЕТ ЕСЛИ ЕСТЬ TC:*
#    Нет сценариев — нет эпика. Не создавать "на будущее".
#
# 6. УКАЗЫВАТЬ ОГРАНИЧЕНИЯ
#    Явно описывать что НЕ входит в эпик для ясности границ.


# =============================================================================
# ФЛОУ РАБОТЫ
# =============================================================================
#
# 1. ОПРЕДЕЛИТЬ ДОМЕН
#    Какую область продукта покрывает функциональность?
#    → Создать корневой epic:domain
#
# 2. НАПИСАТЬ СЦЕНАРИИ
#    Какие user stories входят в этот домен?
#    → Создать tc:domain:scenario в _test-cases.yaml
#
# 3. ОЦЕНИТЬ ОБЪЁМ
#    Больше 5-7 сценариев в домене?
#    → Разбить на подэпики epic:domain:subdomain
#
# 4. ПРОВЕРИТЬ ГРАНИЦЫ
#    Что точно НЕ входит в этот эпик?
#    → Добавить в description секцию "Ограничения"


# =============================================================================
# ЧЕКЛИСТ ПЕРЕД КОММИТОМ
# =============================================================================
#
# [ ] Каждый epic:* имеет description (минимум 2 строки)
# [ ] Описание отвечает на "что" и "зачем"
# [ ] Для сложных эпиков указаны ограничения
# [ ] Именование соответствует kebab-case
# [ ] Глубина не больше 2 уровней
# [ ] Каждый epic:* имеет хотя бы один tc:* в своём домене
# [ ] Нет дублирующих эпиков
# [ ] Нет пустых эпиков "на будущее"
